{"ast":null,"code":"import _regeneratorRuntime from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState}from\"react\";import styled from\"styled-components\";import{FaStar}from\"react-icons/fa\";import ReviewPage from\"../pages/ReviewPage\";import logo from\"../assets/icon.png\";import{withRouter}from\"react-router-dom\";import{useHistory}from\"react-router\";import axios from'axios';import https from\"https\";import{render}from\"@testing-library/react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.a(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    margin: 15px;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    width: 300px;\\n    height: 150px;\\n    text-decoration: none;\\n\"])));var ImageWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    width: 160px;\\n    height: 130px;\\n    position: relative;\\n\"])));var Image=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    width: 160px;\\n    height: 130px;\\n    position: absolute;\\n    object-fit: cover;\\n\"])));var Content=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    background-color: rgba(0,0,0,0.5);\\n    color: white;\\n    width: 160px;\\n    height: 130px;\\n    position: absolute;\\n    border: none;\\n    cursor: pointer;\\n\"])));var Wrapper=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    width: 130px;\\n    height: 130px;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-between;\\n\"])));var Tag=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    background-color: #d57358;\\n    font-size: xx-small;\\n    color: white;\\n    padding-inline: 10px;\\n    border: none;\\n    height: 20px;\\n    border-radius: 50px;\\n    margin-right: 3px;\\n    margin-top: 50px;\\n    cursor: pointer;\\n\"])));var agent=new https.Agent({rejectUnauthorized:false});var Review=/*#__PURE__*/function(_React$Component){_inherits(Review,_React$Component);var _super=_createSuper(Review);function Review(){var _this;_classCallCheck(this,Review);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={review:'',isModalOpen:false,hover:'off'};_this.openModal=function(){return _this.setState({isModalOpen:true});};_this.closeModal=function(){return _this.setState({isModalOpen:false});};_this.onMouseEnter=function(){return _this.setState({hover:'on'});};_this.onMouseLeave=function(){return _this.setState({hover:'off'});};_this.rating=function(score){var result=[];for(var i=5;i>0;i--){score--;if(score>=0){result.push(/*#__PURE__*/_jsx(FaStar,{size:\"12\",color:\"#d57358\"}));}else{result.push(/*#__PURE__*/_jsx(FaStar,{size:\"12\",color:\"lightgray\"}));}}return result;};_this.getReview=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(reviewNum){var url,reviewdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"https://www.matzipmajor.com/api/reviews/\"+reviewNum.toString();_context.next=4;return axios.get(url,{httpsAgent:agent});case 4:reviewdata=_context.sent;_this.setState({review:reviewdata.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"getReview error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(Review,[{key:\"render\",value:function render(){var _this$props=this.props,reviewNum=_this$props.reviewNum,image=_this$props.image,content=_this$props.content,restaurantName=_this$props.restaurantName,menuName=_this$props.menuName,tagFood=_this$props.tagFood,tagMood=_this$props.tagMood,score=_this$props.score;this.getReview(reviewNum);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container,{onClick:this.openModal,children:[/*#__PURE__*/_jsxs(ImageWrapper,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[image===null?/*#__PURE__*/_jsx(Image,{src:logo}):/*#__PURE__*/_jsx(Image,{src:image}),this.state.hover==='on'&&/*#__PURE__*/_jsx(Content,{children:content.length>80?content.slice(0,80)+\"···\":content})]}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"black\",fontWeight:\"bold\",margin:\"0px\"},children:restaurantName.length>8?restaurantName.slice(0,6)+\"···\":restaurantName}),/*#__PURE__*/_jsx(\"h5\",{style:{color:\"black\",margin:\"0px\"},children:menuName.length>11?menuName.slice(0,10)+\"···\":menuName}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Tag,{children:tagFood}),/*#__PURE__*/_jsx(Tag,{children:tagMood})]}),/*#__PURE__*/_jsx(\"div\",{children:this.rating(score)})]})]}),/*#__PURE__*/_jsx(ReviewPage,{open:this.state.isModalOpen,close:this.closeModal,reviewNum:this.state.review.reviewNum,restaurantName:this.state.review.restaurantName,menuName:this.state.review.menuName,content:this.state.review.content,tagFood:this.state.review.tagFood,tagMood:this.state.review.tagMood,score:this.state.review.score,createdDate:this.state.review.createdDate,likedCnt:this.state.review.likedCnt,image:this.state.review.filePath})]});}}]);return Review;}(React.Component);export default withRouter(Review);","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/components/Review.js"],"names":["React","useState","styled","FaStar","ReviewPage","logo","withRouter","useHistory","axios","https","render","Container","a","ImageWrapper","div","Image","img","Content","button","Wrapper","Tag","agent","Agent","rejectUnauthorized","Review","state","review","isModalOpen","hover","openModal","setState","closeModal","onMouseEnter","onMouseLeave","rating","score","result","i","push","getReview","reviewNum","url","toString","get","httpsAgent","reviewdata","data","console","log","props","image","content","restaurantName","menuName","tagFood","tagMood","length","slice","color","fontWeight","margin","createdDate","likedCnt","filePath","Component"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { FaStar } from \"react-icons/fa\";\nimport ReviewPage from \"../pages/ReviewPage\";\nimport logo from \"../assets/icon.png\"\nimport { withRouter } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport axios from 'axios';\nimport https from \"https\";\nimport { render } from \"@testing-library/react\";\n\nconst Container = styled.a`\n    margin: 15px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    width: 300px;\n    height: 150px;\n    text-decoration: none;\n`\nconst ImageWrapper = styled.div`\n    width: 160px;\n    height: 130px;\n    position: relative;\n`\nconst Image = styled.img`\n    width: 160px;\n    height: 130px;\n    position: absolute;\n    object-fit: cover;\n`\nconst Content = styled.button`\n    background-color: rgba(0,0,0,0.5);\n    color: white;\n    width: 160px;\n    height: 130px;\n    position: absolute;\n    border: none;\n    cursor: pointer;\n`\nconst Wrapper = styled.div`\n    width: 130px;\n    height: 130px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n`\nconst Tag = styled.button`\n    background-color: #d57358;\n    font-size: xx-small;\n    color: white;\n    padding-inline: 10px;\n    border: none;\n    height: 20px;\n    border-radius: 50px;\n    margin-right: 3px;\n    margin-top: 50px;\n    cursor: pointer;\n`\nconst agent = new https.Agent({\n    rejectUnauthorized: false\n  });\n\nclass Review extends React.Component{\n    state = {\n        review: '',\n        isModalOpen:false,\n        hover:'off'\n    };\n\n    openModal = () => this.setState({isModalOpen:true});\n    closeModal = () => this.setState({isModalOpen:false});\n    onMouseEnter = () => this.setState({hover:'on'});\n    onMouseLeave = () => this.setState({hover:'off'});\n    rating = (score) => {\n        const result = [];\n        for (let i = 5; i > 0; i--){\n            score--;\n            if (score>=0){\n                result.push(<FaStar size=\"12\" color=\"#d57358\"></FaStar>);\n            }\n            else {\n                result.push(<FaStar size=\"12\" color=\"lightgray\"></FaStar>);\n            }\n        }\n        return result;\n    }\n\n    getReview = async (reviewNum) => {\n        try{\n            const url=\"https://www.matzipmajor.com/api/reviews/\"+reviewNum.toString();\n            const reviewdata = await axios.get(url, {httpsAgent: agent});\n            this.setState({ review:reviewdata.data });\n        }\n        catch(e){\n          console.log(\"getReview error\");\n        }\n      }\n\n    render(){\n        const {reviewNum, image, content, restaurantName, menuName, tagFood, tagMood, score}=this.props;\n        this.getReview(reviewNum);\n    return (\n        <div>\n        <Container onClick={this.openModal}>\n            <ImageWrapper onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n                {\n                    image===null ? <Image src={logo}></Image> : <Image src={image}></Image>\n                }\n                {\n                    this.state.hover==='on' && <Content>{content.length>80?content.slice(0,80)+\"···\":content}</Content>\n                }\n            </ImageWrapper>\n            <Wrapper>\n                <h3 style={{color: \"black\", fontWeight:\"bold\", margin:\"0px\"}}>{restaurantName.length>8?restaurantName.slice(0,6)+\"···\":restaurantName}</h3>\n                <h5 style={{color: \"black\",  margin:\"0px\"}}>{menuName.length>11?menuName.slice(0,10)+\"···\":menuName}</h5>\n                \n                <div>\n                    <Tag>{tagFood}</Tag>\n                    <Tag>{tagMood}</Tag>\n                </div>\n                <div>\n                    {\n                        this.rating(score)\n                    }\n                </div>\n            </Wrapper>\n        </Container>\n        <ReviewPage open={ this.state.isModalOpen } close={ this.closeModal }\n            reviewNum={this.state.review.reviewNum}\n            restaurantName={this.state.review.restaurantName}\n            menuName={this.state.review.menuName}\n            content={this.state.review.content}\n            tagFood={this.state.review.tagFood}\n            tagMood={this.state.review.tagMood}\n            score={this.state.review.score}\n            createdDate={this.state.review.createdDate}\n            likedCnt={this.state.review.likedCnt}\n            image={this.state.review.filePath}\n        ></ReviewPage>\n        </div>\n    );\n  }}\n\nexport default withRouter(Review);"]},"metadata":{},"sourceType":"module"}