{"ast":null,"code":"var _jsxFileName = \"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/components/Modals/ProfileChangeModal.js\";\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport './SettingModal.css';\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport profile from \"../../assets/icon.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = styled.img`\n  width: 90px;\n  height: 90px;\n  border-radius: 100%;\n  object-fit: cover;\n  border: 0.5px solid #e0e0e0;\n`;\n_c = Profile;\n\nclass ProfileChangeModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imageUrl: profile,\n      file: null\n    };\n\n    this.processImage = event => {\n      const imageFile = event.target.files[0];\n      const url = URL.createObjectURL(imageFile);\n      this.setState({\n        imageUrl: url\n      });\n      this.setState({\n        file: imageFile\n      });\n    };\n  }\n\n  render() {\n    const {\n      open,\n      close\n    } = this.props;\n\n    const success = () => {\n      swal(\"변경되었습니다\", {\n        buttons: false,\n        timer: 1000\n      });\n      close();\n    };\n\n    const profileChange = async event => {\n      event.preventDefault();\n\n      try {\n        const frm = new FormData();\n        frm.append(\"uploadFile\", this.state.file);\n        await axios.patch(\"https://www.matzipmajor.com/api/users/9/image\", frm, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        success();\n      } catch (e) {\n        alert(\"다시 시도해 주세요\");\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: open ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settingmodal\",\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4 \\uBCC0\\uACBD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Profile, {\n            src: this.state.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"input-file-button\",\n            for: \"input-file\",\n            children: \"\\uC5C5\\uB85C\\uB4DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: this.processImage,\n            id: \"input-file\",\n            style: {\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: profileChange,\n              style: {\n                color: \"#d57358\"\n              },\n              children: \"\\uBCC0\\uACBD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                this.setState({\n                  imageUrl: profile\n                });\n                close();\n              },\n              children: \"\\uB2EB\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this) : null\n    }, void 0, false);\n  }\n\n}\n\nexport default ProfileChangeModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/components/Modals/ProfileChangeModal.js"],"names":["React","Component","styled","axios","swal","profile","Profile","img","ProfileChangeModal","state","imageUrl","file","processImage","event","imageFile","target","files","url","URL","createObjectURL","setState","render","open","close","props","success","buttons","timer","profileChange","preventDefault","frm","FormData","append","patch","headers","e","alert","display","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport './SettingModal.css';\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport profile from \"../../assets/icon.png\";\n\nconst Profile = styled.img`\n  width: 90px;\n  height: 90px;\n  border-radius: 100%;\n  object-fit: cover;\n  border: 0.5px solid #e0e0e0;\n`\n\nclass ProfileChangeModal extends Component {\n    state = {\n        imageUrl: profile,\n        file: null\n    }\n    processImage = (event) => {\n      const imageFile = event.target.files[0];\n      const url = URL.createObjectURL(imageFile);\n      this.setState({ imageUrl : url })\n      this.setState({ file: imageFile })\n    }\n\n    render() {\n      const { open, close } = this.props;\n      const success = () => {\n        swal(\"변경되었습니다\", {\n          buttons: false,\n          timer: 1000,\n        });\n        close()\n      }\n      const profileChange = async (event) => {\n        event.preventDefault()\n            try{\n              const frm = new FormData();\n              frm.append(\"uploadFile\", this.state.file);\n              await axios.patch(\"https://www.matzipmajor.com/api/users/9/image\", frm, {headers: {'Content-Type':'multipart/form-data'}});\n              success();\n            }\n            catch(e){\n                alert(\"다시 시도해 주세요\");\n            }\n        }\n      return (\n        <>\n          {open ? (  \n            <div className=\"settingmodal\">\n              <section>\n                <h3>프로필 사진 변경</h3>\n                <Profile src={this.state.imageUrl}></Profile>\n                <label className=\"input-file-button\" for=\"input-file\">\n                    업로드\n                </label>\n                <input type=\"file\" accept=\"image/*\" onChange={this.processImage} id=\"input-file\" style={{display:\"none\"}}/> \n                <div>\n                    <button onClick={profileChange} style={{color:\"#d57358\"}}>변경</button>\n                    <button onClick={() => {\n                        this.setState({imageUrl:profile});\n                        close();\n                    }}>닫기</button>\n                </div>\n              </section>\n            </div>\n          ) : null}\n        </>\n      );\n    }\n  }\nexport default ProfileChangeModal;\n\n"]},"metadata":{},"sourceType":"module"}