{"ast":null,"code":"import _regeneratorRuntime from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{Component}from\"react\";import styled from\"styled-components\";import'./SettingModal.css';import axios from\"axios\";import swal from\"sweetalert\";import profile from\"../../assets/icon.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=styled.img(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 90px;\\n  height: 90px;\\n  border-radius: 100%;\\n  object-fit: cover;\\n  border: 0.5px solid #e0e0e0;\\n\"])));var ProfileChangeModal=/*#__PURE__*/function(_Component){_inherits(ProfileChangeModal,_Component);var _super=_createSuper(ProfileChangeModal);function ProfileChangeModal(){var _this;_classCallCheck(this,ProfileChangeModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={imageUrl:profile,file:null};_this.processImage=function(event){var imageFile=event.target.files[0];var url=URL.createObjectURL(imageFile);_this.setState({imageUrl:url});_this.setState({file:imageFile});};return _this;}_createClass(ProfileChangeModal,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,open=_this$props.open,close=_this$props.close;var success=function success(){swal(\"변경되었습니다\",{buttons:false,timer:1000});close();};var profileChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var frm;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;frm=new FormData();frm.append(\"uploadFile\",_this2.state.file);_context.next=6;return axios.patch(\"https://www.matzipmajor.com/api/users/9/image\",frm,{headers:{'Content-Type':'multipart/form-data'}});case 6:success();_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);alert(\"다시 시도해 주세요\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function profileChange(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:open?/*#__PURE__*/_jsx(\"div\",{className:\"settingmodal\",children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4 \\uBCC0\\uACBD\"}),/*#__PURE__*/_jsx(Profile,{src:this.state.imageUrl}),/*#__PURE__*/_jsx(\"label\",{className:\"input-file-button\",for:\"input-file\",children:\"\\uC5C5\\uB85C\\uB4DC\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:this.processImage,id:\"input-file\",style:{display:\"none\"}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:profileChange,style:{color:\"#d57358\"},children:\"\\uBCC0\\uACBD\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){_this2.setState({imageUrl:profile});close();},children:\"\\uB2EB\\uAE30\"})]})]})}):null});}}]);return ProfileChangeModal;}(Component);export default ProfileChangeModal;","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/components/Modals/ProfileChangeModal.js"],"names":["React","Component","styled","axios","swal","profile","Profile","img","ProfileChangeModal","state","imageUrl","file","processImage","event","imageFile","target","files","url","URL","createObjectURL","setState","props","open","close","success","buttons","timer","profileChange","preventDefault","frm","FormData","append","patch","headers","alert","display","color"],"mappings":"m7CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,6IAEA,GAAMC,CAAAA,OAAO,CAAGJ,MAAM,CAACK,GAAV,kLAAb,C,GAQMC,CAAAA,kB,2WACFC,K,CAAQ,CACJC,QAAQ,CAAEL,OADN,CAEJM,IAAI,CAAE,IAFF,C,OAIRC,Y,CAAe,SAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,SAAS,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAlB,CACA,GAAMC,CAAAA,GAAG,CAAGC,GAAG,CAACC,eAAJ,CAAoBL,SAApB,CAAZ,CACA,MAAKM,QAAL,CAAc,CAAEV,QAAQ,CAAGO,GAAb,CAAd,EACA,MAAKG,QAAL,CAAc,CAAET,IAAI,CAAEG,SAAR,CAAd,EACD,C,oEAED,iBAAS,iBACP,gBAAwB,KAAKO,KAA7B,CAAQC,IAAR,aAAQA,IAAR,CAAcC,KAAd,aAAcA,KAAd,CACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBpB,IAAI,CAAC,SAAD,CAAY,CACdqB,OAAO,CAAE,KADK,CAEdC,KAAK,CAAE,IAFO,CAAZ,CAAJ,CAIAH,KAAK,GACN,CAND,CAOA,GAAMI,CAAAA,aAAa,0FAAG,iBAAOd,KAAP,0HACpBA,KAAK,CAACe,cAAN,GADoB,gBAGRC,GAHQ,CAGF,GAAIC,CAAAA,QAAJ,EAHE,CAIdD,GAAG,CAACE,MAAJ,CAAW,YAAX,CAAyB,MAAI,CAACtB,KAAL,CAAWE,IAApC,EAJc,sBAKRR,CAAAA,KAAK,CAAC6B,KAAN,CAAY,+CAAZ,CAA6DH,GAA7D,CAAkE,CAACI,OAAO,CAAE,CAAC,eAAe,qBAAhB,CAAV,CAAlE,CALQ,QAMdT,OAAO,GANO,+EASZU,KAAK,CAAC,YAAD,CAAL,CATY,oEAAH,kBAAbP,CAAAA,aAAa,4CAAnB,CAYA,mBACE,yBACGL,IAAI,cACH,YAAK,SAAS,CAAC,cAAf,uBACE,wCACE,oEADF,cAEE,KAAC,OAAD,EAAS,GAAG,CAAE,KAAKb,KAAL,CAAWC,QAAzB,EAFF,cAGE,cAAO,SAAS,CAAC,mBAAjB,CAAqC,GAAG,CAAC,YAAzC,gCAHF,cAME,cAAO,IAAI,CAAC,MAAZ,CAAmB,MAAM,CAAC,SAA1B,CAAoC,QAAQ,CAAE,KAAKE,YAAnD,CAAiE,EAAE,CAAC,YAApE,CAAiF,KAAK,CAAE,CAACuB,OAAO,CAAC,MAAT,CAAxF,EANF,cAOE,oCACI,eAAQ,OAAO,CAAER,aAAjB,CAAgC,KAAK,CAAE,CAACS,KAAK,CAAC,SAAP,CAAvC,0BADJ,cAEI,eAAQ,OAAO,CAAE,kBAAM,CACnB,MAAI,CAAChB,QAAL,CAAc,CAACV,QAAQ,CAACL,OAAV,CAAd,EACAkB,KAAK,GACR,CAHD,0BAFJ,GAPF,GADF,EADG,CAkBD,IAnBN,EADF,CAuBD,C,gCAxD4BtB,S,EA0DjC,cAAeO,CAAAA,kBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport './SettingModal.css';\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport profile from \"../../assets/icon.png\";\n\nconst Profile = styled.img`\n  width: 90px;\n  height: 90px;\n  border-radius: 100%;\n  object-fit: cover;\n  border: 0.5px solid #e0e0e0;\n`\n\nclass ProfileChangeModal extends Component {\n    state = {\n        imageUrl: profile,\n        file: null\n    }\n    processImage = (event) => {\n      const imageFile = event.target.files[0];\n      const url = URL.createObjectURL(imageFile);\n      this.setState({ imageUrl : url })\n      this.setState({ file: imageFile })\n    }\n\n    render() {\n      const { open, close } = this.props;\n      const success = () => {\n        swal(\"변경되었습니다\", {\n          buttons: false,\n          timer: 1000,\n        });\n        close()\n      }\n      const profileChange = async (event) => {\n        event.preventDefault()\n            try{\n              const frm = new FormData();\n              frm.append(\"uploadFile\", this.state.file);\n              await axios.patch(\"https://www.matzipmajor.com/api/users/9/image\", frm, {headers: {'Content-Type':'multipart/form-data'}});\n              success();\n            }\n            catch(e){\n                alert(\"다시 시도해 주세요\");\n            }\n        }\n      return (\n        <>\n          {open ? (  \n            <div className=\"settingmodal\">\n              <section>\n                <h3>프로필 사진 변경</h3>\n                <Profile src={this.state.imageUrl}></Profile>\n                <label className=\"input-file-button\" for=\"input-file\">\n                    업로드\n                </label>\n                <input type=\"file\" accept=\"image/*\" onChange={this.processImage} id=\"input-file\" style={{display:\"none\"}}/> \n                <div>\n                    <button onClick={profileChange} style={{color:\"#d57358\"}}>변경</button>\n                    <button onClick={() => {\n                        this.setState({imageUrl:profile});\n                        close();\n                    }}>닫기</button>\n                </div>\n              </section>\n            </div>\n          ) : null}\n        </>\n      );\n    }\n  }\nexport default ProfileChangeModal;\n\n"]},"metadata":{},"sourceType":"module"}