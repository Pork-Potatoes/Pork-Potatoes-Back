{"ast":null,"code":"import _regeneratorRuntime from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import styled from\"styled-components\";import{FaStar,FaHeart,FaRegHeart,FaRegBookmark,FaBookmark}from\"react-icons/fa\";import{render}from\"@testing-library/react\";import{withRouter}from\"react-router-dom\";import axios from'axios';import https from\"https\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    border-top: 1px solid lightgray;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    width: 25vw;\\n    height: 150px;\\n    padding-left: 20px;\\n    margin: 10px;\\n    border: solid 1px #D1D1D1;\\n    border-radius: 15px;\\n\"])));var Wrapper=styled.a(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    width: 25vw;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-between;\\n    text-decoration: none;\\n\"])));var Tag=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    background-color: #d57358;\\n    font-size: xx-small;\\n    color: white;\\n    padding-inline: 10px;\\n    border: none;\\n    height: 20px;\\n    border-radius: 50px;\\n    margin-right: 5px;\\n    margin-bottom: 3px;\\n    cursor: pointer;\\n\"])));var agent=new https.Agent({rejectUnauthorized:false});var NewRestaurant=/*#__PURE__*/function(_React$Component){_inherits(NewRestaurant,_React$Component);var _super=_createSuper(NewRestaurant);function NewRestaurant(){var _this;_classCallCheck(this,NewRestaurant);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={restaurant:'',liked:'like'};_this.rating=function(avgScore){var result=[];for(var i=5;i>0;i--){avgScore--;if(avgScore>=0){result.push(/*#__PURE__*/_jsx(FaStar,{size:\"12\",color:\"#d57358\"}));}else{result.push(/*#__PURE__*/_jsx(FaStar,{size:\"12\",color:\"lightgray\"}));}}return result;};_this.getRestaurant=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(restaurantNum){var url,restaurantdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"https://matzipmajor.com/api/restaurants/\"+restaurantNum.toString();_context.next=4;return axios.get(url,{httpsAgent:agent});case 4:restaurantdata=_context.sent;_this.setState({restaurant:restaurantdata.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"getRestaurant error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(NewRestaurant,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,restaurantNum=_this$props.restaurantNum,restaurantName=_this$props.restaurantName,avgScore=_this$props.avgScore;this.getRestaurant(restaurantNum);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Wrapper,{onClick:function onClick(){return _this2.props.history.push({pathname:'/detailpage',state:{restaurantNum:_this2.state.restaurant.restaurantNum,restaurantName:_this2.state.restaurant.restaurantName,address:_this2.state.restaurant.address,phoneNum:_this2.state.restaurant.phoneNum,businessHour:_this2.state.restaurant.businessHour,snsAccount:_this2.state.restaurant.snsAccount,avgScore:_this2.state.restaurant.avgScore}});},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"black\",fontWeight:\"bold\",margin:\"0px\"},children:restaurantName}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[this.rating(avgScore),\" \\uD3C9\\uC810 \",avgScore]})]})});}}]);return NewRestaurant;}(React.Component);export default withRouter(NewRestaurant);","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/components/NewRestaurant.js"],"names":["React","useState","useHistory","styled","FaStar","FaHeart","FaRegHeart","FaRegBookmark","FaBookmark","render","withRouter","axios","https","Container","div","Wrapper","a","Tag","button","agent","Agent","rejectUnauthorized","NewRestaurant","state","restaurant","liked","rating","avgScore","result","i","push","getRestaurant","restaurantNum","url","toString","get","httpsAgent","restaurantdata","setState","data","console","log","props","restaurantName","history","pathname","address","phoneNum","businessHour","snsAccount","color","fontWeight","margin","Component"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FaStar, FaHeart, FaRegHeart, FaRegBookmark,FaBookmark } from \"react-icons/fa\";\nimport { render } from \"@testing-library/react\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios';\nimport https from \"https\";\n\nconst Container = styled.div`\n    border-top: 1px solid lightgray;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    width: 25vw;\n    height: 150px;\n    padding-left: 20px;\n    margin: 10px;\n    border: solid 1px #D1D1D1;\n    border-radius: 15px;\n`\nconst Wrapper = styled.a`\n    width: 25vw;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    text-decoration: none;\n`\n\nconst Tag = styled.button`\n    background-color: #d57358;\n    font-size: xx-small;\n    color: white;\n    padding-inline: 10px;\n    border: none;\n    height: 20px;\n    border-radius: 50px;\n    margin-right: 5px;\n    margin-bottom: 3px;\n    cursor: pointer;\n`\n\nconst agent = new https.Agent({\n    rejectUnauthorized: false\n  });\n\nclass NewRestaurant extends React.Component{\n    state={\n        restaurant:'',\n        liked:'like'\n    };\n\n    rating = (avgScore) => {\n        const result = [];\n        for (let i = 5; i > 0; i--){\n            avgScore--;\n            if (avgScore>=0){\n                result.push(<FaStar size=\"12\" color=\"#d57358\"></FaStar>);\n            }\n            else {\n                result.push(<FaStar size=\"12\" color=\"lightgray\"></FaStar>);\n            }\n        }\n        return result;\n    }\n\n    getRestaurant = async (restaurantNum) => {\n        try{\n            const url=\"https://matzipmajor.com/api/restaurants/\"+restaurantNum.toString();\n            const restaurantdata = await axios.get(url, {httpsAgent: agent});\n            this.setState({ restaurant:restaurantdata.data });\n        }\n        catch(e){\n          console.log(\"getRestaurant error\");\n        }\n      }\n\n    render(){\n        const { restaurantNum, restaurantName, avgScore }=this.props;\n        this.getRestaurant(restaurantNum);\n    return (\n        <Container>\n            <Wrapper onClick={()=>this.props.history.push({\n                pathname:'/detailpage',\n                state:{\n                    restaurantNum:this.state.restaurant.restaurantNum,\n                    restaurantName:this.state.restaurant.restaurantName,\n                    address:this.state.restaurant.address,\n                    phoneNum:this.state.restaurant.phoneNum,\n                    businessHour:this.state.restaurant.businessHour,\n                    snsAccount:this.state.restaurant.snsAccount,\n                    avgScore:this.state.restaurant.avgScore,\n                }\n                    \n                })\n            }>\n                <h3 style={{color: \"black\", fontWeight:\"bold\", margin:\"0px\"}}>{restaurantName}</h3> <br/><br />\n                <div>\n                    {\n                        this.rating(avgScore)\n                    } 평점 {avgScore}\n                </div>\n            </Wrapper>\n        </Container>\n    );\n  }}\n\nexport default withRouter(NewRestaurant);"]},"metadata":{},"sourceType":"module"}