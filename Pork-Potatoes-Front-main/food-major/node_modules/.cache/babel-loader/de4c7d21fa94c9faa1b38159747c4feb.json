{"ast":null,"code":"var _jsxFileName = \"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/pages/SearchPage.js\";\nimport { Restaurant } from '@material-ui/icons';\nimport React, { useState } from 'react';\nimport styled from \"styled-components\";\nimport restaurantIcon from \"../assets/restaurantIcon.png\";\nimport reviewIcon from \"../assets/reviewIcon.png\";\nimport Review from \"../components/Review\";\nimport image from \"../assets/reviewImg.png\";\nimport NewRestaurant from '../components/NewRestaurant';\nimport Sort from '../components/Sort.js';\nimport axios from 'axios';\nimport https from \"https\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Filtering = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width:100%;\n  height:70px;\n  margin-top: 70px;\n  position: fixed;\n  background-color: white;\n  box-shadow: 0px 2px 10px 0px silver;\n  z-index:99;\n`;\n_c = Filtering;\nconst TagBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  position: fixed;\n  height:60px;\n  width: 80%;\n  padding-top:10px;\n  padding-left: 363px;\n  padding-right: 363px;\n  background-color: white;\n\n`;\n_c2 = TagBox;\nconst TagButton = styled.button`\n  background: #ED6C54;\n  color:white;\n  font-size: 1rem;\n  height: 48px;\n  text-align: center;\n  margin-left:8px;\n  margin-right:8px;\n  padding-left: 28px;\n  padding-right: 28px;\n  border-radius: 38px;\n  border:none;\n`;\n_c3 = TagButton;\nconst Main = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  height: 900px;\n  padding-top:140px;\n`;\n_c4 = Main;\nconst Result = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-content: center;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  height: 70px;\n  padding-top:0px;\n`;\n_c5 = Result;\nconst SearchRestaurant = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  height:450px;\n  padding-top:10px;\n`;\n_c6 = SearchRestaurant;\nconst SearchReview = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  min-height: 900px;\n  padding-top:20px;\n`;\n_c7 = SearchReview;\nconst Text = styled.text`\n  font-size: 2.5rem;\n  padding-left: 10px;\n  font-weight: bold;\n`;\n_c8 = Text;\nconst Contents = styled.div`\n  display:flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 20px;\n  max-height: 500px;\n  overflow-y: auto;\n`;\n_c9 = Contents;\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n`;\n_c10 = Grid;\nconst agent = new https.Agent({\n  rejectUnauthorized: false\n});\nconst Line_style = styled.div`\n  border-top: #EFEFEF solid 1px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 15px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n`;\n_c11 = Line_style;\nconst Select = styled.select`\n  border: 1px solid silver;\n  outline:none;\n  width: 150px;\n  height: 30px;\n`;\n_c12 = Select;\n\nclass SearchPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.inputSearch = this.props.location.state.inputSearch;\n\n    this.getRecentReviews = async inputSearch => {\n      try {\n        const url = \"https://www.matzipmajor.com/api/reviews?query=\" + Object.values({\n          inputSearch\n        }).toString() + \"&sort=-created-date\";\n        const {\n          data: reviews\n        } = await axios.get(url, {\n          httpsAgent: agent\n        });\n        this.setState({\n          reviews\n        });\n      } catch (e) {\n        console.log(\"getRecentReviews error\");\n      }\n    };\n\n    this.getScoreReviews = async inputSearch => {\n      try {\n        const url = \"https://www.matzipmajor.com/api/reviews?query=\" + Object.values({\n          inputSearch\n        }).toString() + \"&sort=-score\";\n        const {\n          data: reviews\n        } = await axios.get(url, {\n          httpsAgent: agent\n        });\n        this.setState({\n          reviews\n        });\n      } catch (e) {\n        console.log(\"getScoreReviews error\");\n      }\n    };\n\n    this.getLikeReviews = async inputSearch => {\n      try {\n        const url = \"https://www.matzipmajor.com/api/reviews?query=\" + Object.values({\n          inputSearch\n        }).toString() + \"&sort=-liked-cnt\";\n        const {\n          data: reviews\n        } = await axios.get(url, {\n          httpsAgent: agent\n        });\n        this.setState({\n          reviews\n        });\n        window.localStorage.setItem('restaurantNum', reviews.restaurant.restaurantNum);\n      } catch (e) {\n        console.log(\"getLikeReviews error\");\n      }\n    };\n\n    this.getRestaurants = async inputSearch => {\n      try {\n        const url = \"https://www.matzipmajor.com/api/search?q=\" + Object.values({\n          inputSearch\n        }).toString();\n        const {\n          data: restaurants\n        } = await axios.get(url, {\n          httpsAgent: agent\n        });\n        this.setState({\n          restaurants\n        });\n      } catch (e) {\n        console.log(\"getRestaurants error\");\n      }\n    };\n\n    this.selectChange = (event, inputSearch) => {\n      const selectValue = event.target.value;\n\n      if (selectValue === '별점순') {\n        this.getScoreReviews(inputSearch);\n      } else if (selectValue === '인기순') {\n        this.getLikeReviews(inputSearch);\n      } else {\n        this.getRecentReviews(inputSearch);\n      }\n    };\n\n    this.state = {\n      reviews: [],\n      restaurants: [],\n      filteredReviews: []\n    };\n  }\n\n  render() {\n    const inputSearch = this.props.location.state.inputSearch;\n    this.getRecentReviews(inputSearch);\n    this.getRestaurants(inputSearch);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Filtering, {\n        children: /*#__PURE__*/_jsxDEV(TagBox, {\n          children: [/*#__PURE__*/_jsxDEV(TagButton, {\n            className: \"eatTogether\",\n            children: \"\\uD68C\\uC2DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TagButton, {\n            className: \"eatAlone\",\n            children: \"\\uD63C\\uBC25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TagButton, {\n            className: \"eatPromise\",\n            children: \"\\uBC25\\uC57D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TagButton, {\n            className: \"eatDate\",\n            children: \"\\uB370\\uC774\\uD2B8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TagButton, {\n            className: \"eatFamily\",\n            children: \"\\uAC00\\uC871\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        children: [/*#__PURE__*/_jsxDEV(Result, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [inputSearch, \" \\uAC80\\uC0C9\\uACB0\\uACFC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Line_style, {\n            children: /*#__PURE__*/_jsxDEV(Select, {\n              onChange: event => this.selectChange(event, this.inputSearch),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                selected: true,\n                value: \"\\uCD5C\\uC2E0\\uC21C\",\n                children: \"\\uCD5C\\uC2E0\\uC21C\\uC73C\\uB85C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\uBCC4\\uC810\\uC21C\",\n                children: \"\\uBCC4\\uC810\\uC21C\\uC73C\\uB85C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\uC778\\uAE30\\uC21C\",\n                children: \"\\uC778\\uAE30\\uC21C\\uC73C\\uB85C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(SearchRestaurant, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: restaurantIcon,\n              alt: \"restaurant\",\n              height: \"40rem\",\n              width: \"40rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\uC2DD\\uB2F9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              size: \"10px\",\n              width: \"100%\",\n              color: \"#D1D1D1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Contents, {\n            children: Object.values(this.state.restaurants).map(restaurant => /*#__PURE__*/_jsxDEV(NewRestaurant, {\n              restaurantNum: restaurant.restaurantNum,\n              restaurantName: restaurant.restaurantName,\n              address: restaurant.address,\n              avgScore: restaurant.avgScore\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 13\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(SearchReview, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: reviewIcon,\n              alt: \"review\",\n              height: \"40rem\",\n              width: \"40rem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\uB9AC\\uBDF0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              size: \"10px\",\n              width: \"100%\",\n              color: \"#D1D1D1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            children: Object.values(this.state.reviews).map(review => /*#__PURE__*/_jsxDEV(Review, {\n              reviewNum: review.reviewNum,\n              image: review.filePath,\n              content: review.content,\n              restaurantName: review.restaurant.restaurantName,\n              menuName: review.menuName,\n              tagFood: review.tagFood,\n              tagMood: review.tagMood,\n              score: review.score,\n              createdDate: review.createdDate,\n              likedCnt: review.likedCnt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\n;\nexport default SearchPage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"Filtering\");\n$RefreshReg$(_c2, \"TagBox\");\n$RefreshReg$(_c3, \"TagButton\");\n$RefreshReg$(_c4, \"Main\");\n$RefreshReg$(_c5, \"Result\");\n$RefreshReg$(_c6, \"SearchRestaurant\");\n$RefreshReg$(_c7, \"SearchReview\");\n$RefreshReg$(_c8, \"Text\");\n$RefreshReg$(_c9, \"Contents\");\n$RefreshReg$(_c10, \"Grid\");\n$RefreshReg$(_c11, \"Line_style\");\n$RefreshReg$(_c12, \"Select\");","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/pages/SearchPage.js"],"names":["Restaurant","React","useState","styled","restaurantIcon","reviewIcon","Review","image","NewRestaurant","Sort","axios","https","Filtering","div","TagBox","TagButton","button","Main","Result","SearchRestaurant","SearchReview","Text","text","Contents","Grid","agent","Agent","rejectUnauthorized","Line_style","Select","select","SearchPage","Component","constructor","props","inputSearch","location","state","getRecentReviews","url","Object","values","toString","data","reviews","get","httpsAgent","setState","e","console","log","getScoreReviews","getLikeReviews","window","localStorage","setItem","restaurant","restaurantNum","getRestaurants","restaurants","selectChange","event","selectValue","target","value","filteredReviews","render","map","restaurantName","address","avgScore","review","reviewNum","filePath","content","menuName","tagFood","tagMood","score","createdDate","likedCnt"],"mappings":"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","sourcesContent":["import { Restaurant } from '@material-ui/icons';\nimport React,{useState} from 'react';\nimport styled from \"styled-components\";\nimport restaurantIcon from \"../assets/restaurantIcon.png\";\nimport reviewIcon from \"../assets/reviewIcon.png\";\nimport Review from \"../components/Review\";\nimport image from \"../assets/reviewImg.png\";\nimport NewRestaurant from '../components/NewRestaurant';\nimport Sort from '../components/Sort.js';\nimport axios from 'axios';\nimport https from \"https\";\n\n\nconst Filtering = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width:100%;\n  height:70px;\n  margin-top: 70px;\n  position: fixed;\n  background-color: white;\n  box-shadow: 0px 2px 10px 0px silver;\n  z-index:99;\n`\n\nconst TagBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  position: fixed;\n  height:60px;\n  width: 80%;\n  padding-top:10px;\n  padding-left: 363px;\n  padding-right: 363px;\n  background-color: white;\n\n`\n\nconst TagButton = styled.button`\n  background: #ED6C54;\n  color:white;\n  font-size: 1rem;\n  height: 48px;\n  text-align: center;\n  margin-left:8px;\n  margin-right:8px;\n  padding-left: 28px;\n  padding-right: 28px;\n  border-radius: 38px;\n  border:none;\n`\n\nconst Main = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  height: 900px;\n  padding-top:140px;\n`\n\nconst Result = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-content: center;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  height: 70px;\n  padding-top:0px;\n`\n\nconst SearchRestaurant = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  height:450px;\n  padding-top:10px;\n`\n\nconst SearchReview = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  min-height: 900px;\n  padding-top:20px;\n`\n\nconst Text = styled.text`\n  font-size: 2.5rem;\n  padding-left: 10px;\n  font-weight: bold;\n`\n\nconst Contents = styled.div`\n  display:flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 20px;\n  max-height: 500px;\n  overflow-y: auto;\n`\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n`\n\nconst agent = new https.Agent({\n  rejectUnauthorized: false\n});\n\nconst Line_style = styled.div`\n  border-top: #EFEFEF solid 1px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 15px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n`\nconst Select = styled.select`\n  border: 1px solid silver;\n  outline:none;\n  width: 150px;\n  height: 30px;\n`\n\n\nclass SearchPage extends React.Component {\n  inputSearch = this.props.location.state.inputSearch;\n  constructor(props){\n    super(props);\n    this.state = {\n      reviews: [],\n      restaurants: [],\n      filteredReviews:[]\n    }\n  }\n  getRecentReviews = async (inputSearch) => {\n    try{\n      const url=\"https://www.matzipmajor.com/api/reviews?query=\"+Object.values({inputSearch}).toString()+\"&sort=-created-date\";\n      const {data: reviews} = await axios.get(url, {httpsAgent: agent});\n      this.setState({ reviews });\n    }\n    catch(e){\n      console.log(\"getRecentReviews error\");\n    }\n  }\n  getScoreReviews = async (inputSearch) => {\n    try{\n      const url=\"https://www.matzipmajor.com/api/reviews?query=\"+Object.values({inputSearch}).toString()+\"&sort=-score\";\n      const {data: reviews} = await axios.get(url, {httpsAgent: agent});\n      this.setState({ reviews });\n    }\n    catch(e){\n      console.log(\"getScoreReviews error\");\n    }\n  }\n  getLikeReviews = async (inputSearch) => {\n    try{\n      const url=\"https://www.matzipmajor.com/api/reviews?query=\"+Object.values({inputSearch}).toString()+\"&sort=-liked-cnt\";\n      const {data: reviews} = await axios.get(url, {httpsAgent: agent});\n      this.setState({ reviews });\n      window.localStorage.setItem('restaurantNum', reviews.restaurant.restaurantNum);\n    }\n    catch(e){\n      console.log(\"getLikeReviews error\");\n    }\n  }\n  getRestaurants= async (inputSearch) => {\n    try{\n      const url=\"https://www.matzipmajor.com/api/search?q=\"+Object.values({inputSearch}).toString();\n      const {data: restaurants} = await axios.get(url, {httpsAgent: agent});\n      this.setState({ restaurants });\n    }\n    catch(e){\n      console.log(\"getRestaurants error\");\n    }\n  }\n\n  selectChange=(event,inputSearch)=>{\n    const selectValue=event.target.value;\n    if (selectValue ==='별점순'){this.getScoreReviews(inputSearch)}\n    else if (selectValue ==='인기순'){this.getLikeReviews(inputSearch)}\n    else {this.getRecentReviews(inputSearch)}\n  }\n\n  render(){\n  const inputSearch = this.props.location.state.inputSearch;\n  this.getRecentReviews(inputSearch);\n  this.getRestaurants(inputSearch);\n  return ( \n    <div>\n    <Filtering>\n      <TagBox>\n        <TagButton className='eatTogether'>회식</TagButton>\n        <TagButton className='eatAlone'>혼밥</TagButton>\n        <TagButton className='eatPromise'>밥약</TagButton>\n        <TagButton className='eatDate'>데이트</TagButton>\n        <TagButton className='eatFamily'>가족</TagButton>\n      </TagBox>\n    </Filtering>\n    <Main>\n      <Result>\n        <h2>{inputSearch} 검색결과</h2>\n        <Line_style>\n        <Select onChange={(event)=>this.selectChange(event,this.inputSearch)}>\n            <option selected value=\"최신순\">최신순으로</option>\n            <option value=\"별점순\">별점순으로</option>\n            <option value=\"인기순\">인기순으로</option>\n        </Select>\n      </Line_style>\n      </Result>\n      <SearchRestaurant>\n        <div>\n          <img src={restaurantIcon} alt=\"restaurant\" height=\"40rem\" width=\"40rem\"/>\n          <Text>식당</Text>\n          <hr size=\"10px\" width=\"100%\" color=\"#D1D1D1\" />\n        </div>\n        <Contents>\n          {Object.values(this.state.restaurants).map((restaurant) =>\n            <NewRestaurant \n            restaurantNum={restaurant.restaurantNum}\n            restaurantName={restaurant.restaurantName} \n            address={restaurant.address} \n            avgScore={restaurant.avgScore} \n            />\n          )}\n        </Contents>\n      </SearchRestaurant>\n      <SearchReview>\n        <div>\n          <img src={reviewIcon} alt=\"review\" height=\"40rem\" width=\"40rem\"/>\n          <Text>리뷰</Text>\n          <hr size=\"10px\" width=\"100%\" color=\"#D1D1D1\" />\n        </div>\n        <Grid>\n            {Object.values(this.state.reviews).map((review) =>\n              <Review reviewNum={review.reviewNum}\n                image={review.filePath}\n                content={review.content}\n                restaurantName={review.restaurant.restaurantName}\n                menuName={review.menuName}\n                tagFood={review.tagFood}\n                tagMood={review.tagMood}\n                score={review.score}\n                createdDate={review.createdDate}\n                likedCnt={review.likedCnt}\n                />\n            )}\n        </Grid>\n      </SearchReview>\n    </Main>\n    </div>\n  );\n  }\n};\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}