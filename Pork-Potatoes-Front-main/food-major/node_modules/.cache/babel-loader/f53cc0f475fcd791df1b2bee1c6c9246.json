{"ast":null,"code":"import _regeneratorRuntime from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React from\"react\";import axios from\"axios\";import _ from'lodash';import styled from\"styled-components\";import https from\"https\";import List from\"../components/List\";import Pagination from\"../components/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contents=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  width: 2400px;\\n\"])));var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: start;\\n  justify-content: center;\\n\"])));var Grid=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr;\\n  grid-template-rows: 1fr 1fr;\\n\"])));var agent=new https.Agent({rejectUnauthorized:false});var MyListPage=/*#__PURE__*/function(_React$Component){_inherits(MyListPage,_React$Component);var _super=_createSuper(MyListPage);function MyListPage(props){var _this;_classCallCheck(this,MyListPage);_this=_super.call(this,props);_this.getLists=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,lists;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://www.matzipmajor.com/api/users/1/folders\",{httpsAgent:agent});case 3:_yield$axios$get=_context.sent;lists=_yield$axios$get.data;_this.setState({lists:lists});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"getLists error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));_this.state={lists:[],currentPage:1};return _this;}_createClass(MyListPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.getLists();}},{key:\"render\",value:function render(){var _this2=this;var lists=this.state.lists;var handlePageChange=function handlePageChange(page){_this2.setState({currentPage:page});};var paginate=function paginate(lists,pageNumber){var startIndex=(pageNumber-1)*6;return _(lists).slice(startIndex).take(6).value();};var pagedLists=paginate(lists,this.state.currentPage);var count=lists.length;return/*#__PURE__*/_jsxs(Contents,{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:\"15px\",paddingBottom:\"30px\"},children:\"\\uB0B4\\uAC00 \\uB9CC\\uB4E0 \\uB9DB\\uC9D1 \\uB9AC\\uC2A4\\uD2B8\"}),/*#__PURE__*/_jsx(Grid,{children:Object.values(pagedLists).map(function(list){return/*#__PURE__*/_jsx(List,{content:list.title,url:list.url},list.folderNum);})})]}),/*#__PURE__*/_jsx(Pagination,{itemsCount:count,currentPage:this.state.currentPage,onPageChange:handlePageChange})]});}}]);return MyListPage;}(React.Component);export default MyListPage;","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/pages/MyListPage.js"],"names":["React","axios","_","styled","https","List","Pagination","Contents","div","Container","Grid","agent","Agent","rejectUnauthorized","MyListPage","props","getLists","get","httpsAgent","lists","data","setState","console","log","state","currentPage","handlePageChange","page","paginate","pageNumber","startIndex","slice","take","value","pagedLists","count","length","margin","paddingBottom","Object","values","map","list","title","url","folderNum","Component"],"mappings":"q9CAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGJ,MAAM,CAACK,GAAV,sLAAd,CAOA,GAAMC,CAAAA,SAAS,CAAGN,MAAM,CAACK,GAAV,qKAAf,CAMA,GAAME,CAAAA,IAAI,CAAGP,MAAM,CAACK,GAAV,8JAAV,CAMA,GAAMG,CAAAA,KAAK,CAAG,GAAIP,CAAAA,KAAK,CAACQ,KAAV,CAAgB,CAC5BC,kBAAkB,CAAE,KADQ,CAAhB,CAAd,C,GAIMC,CAAAA,U,oHACJ,oBAAYC,KAAZ,CAAkB,4CAChB,uBAAMA,KAAN,EADgB,MAOlBC,QAPkB,sEAOP,oMAEqBf,CAAAA,KAAK,CAACgB,GAAN,CAAU,iDAAV,CAA6D,CAACC,UAAU,CAAEP,KAAb,CAA7D,CAFrB,uCAEMQ,KAFN,kBAEAC,IAFA,CAGP,MAAKC,QAAL,CAAc,CAAEF,KAAK,CAALA,KAAF,CAAd,EAHO,+EAMPG,OAAO,CAACC,GAAR,CAAY,gBAAZ,EANO,oEAPO,GAEhB,MAAKC,KAAL,CAAa,CACXL,KAAK,CAAE,EADI,CAEXM,WAAW,CAAE,CAFF,CAAb,CAFgB,aAMjB,C,wDAUD,4BAAoB,CAClB,KAAKT,QAAL,GACD,C,sBAED,iBAAS,iBACP,GAAMG,CAAAA,KAAK,CAAG,KAAKK,KAAL,CAAWL,KAAzB,CACA,GAAMO,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,IAAD,CAAU,CACjC,MAAI,CAACN,QAAL,CAAc,CAACI,WAAW,CAAEE,IAAd,CAAd,EACD,CAFD,CAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACT,KAAD,CAAQU,UAAR,CAAuB,CACtC,GAAMC,CAAAA,UAAU,CAAG,CAACD,UAAU,CAAC,CAAZ,EAAiB,CAApC,CACA,MAAO3B,CAAAA,CAAC,CAACiB,KAAD,CAAD,CACJY,KADI,CACED,UADF,EAEJE,IAFI,CAEC,CAFD,EAGJC,KAHI,EAAP,CAID,CAND,CAOA,GAAMC,CAAAA,UAAU,CAAGN,QAAQ,CAACT,KAAD,CAAQ,KAAKK,KAAL,CAAWC,WAAnB,CAA3B,CACA,GAAeU,CAAAA,KAAf,CAAwBhB,KAAxB,CAAOiB,MAAP,CACA,mBACE,MAAC,QAAD,yBACE,MAAC,SAAD,yBACE,WAAI,KAAK,CAAE,CAACC,MAAM,CAAC,MAAR,CAAgBC,aAAa,CAAC,MAA9B,CAAX,uEADF,cAEE,KAAC,IAAD,WACGC,MAAM,CAACC,MAAP,CAAcN,UAAd,EAA0BO,GAA1B,CAA+B,SAACC,IAAD,qBAC9B,KAAC,IAAD,EACE,OAAO,CAAEA,IAAI,CAACC,KADhB,CAEE,GAAG,CAAED,IAAI,CAACE,GAFZ,EAAWF,IAAI,CAACG,SAAhB,CAD8B,EAA/B,CADH,EAFF,GADF,cAWE,KAAC,UAAD,EACE,UAAU,CAAEV,KADd,CAEE,WAAW,CAAE,KAAKX,KAAL,CAAWC,WAF1B,CAGE,YAAY,CAAEC,gBAHhB,EAXF,GADF,CAmBD,C,wBAtDsB1B,KAAK,CAAC8C,S,EAyD/B,cAAehC,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport _ from 'lodash';\nimport styled from \"styled-components\";\nimport https from \"https\"\nimport List from \"../components/List\";\nimport Pagination from \"../components/Pagination\";\n\nconst Contents = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 2400px;\n`\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: center;\n`\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n`\n\nconst agent = new https.Agent({\n  rejectUnauthorized: false\n});\n\nclass MyListPage extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      lists: [],\n      currentPage: 1\n    }\n  }\n  getLists = async () => {\n    try{\n      const {data: lists} = await axios.get(\"https://www.matzipmajor.com/api/users/1/folders\", {httpsAgent: agent});\n      this.setState({ lists });\n    }\n    catch(e){\n      console.log(\"getLists error\");\n    }\n  }\n  componentDidMount() {\n    this.getLists();\n  }\n\n  render() {\n    const lists = this.state.lists;\n    const handlePageChange = (page) => {\n      this.setState({currentPage: page});\n    };\n    const paginate = (lists, pageNumber) => {\n      const startIndex = (pageNumber-1) * 6;\n      return _(lists)\n        .slice(startIndex)\n        .take(6)\n        .value();\n    }\n    const pagedLists = paginate(lists, this.state.currentPage);\n    const {length: count} = lists;\n    return(\n      <Contents>\n        <Container>\n          <h1 style={{margin:\"15px\", paddingBottom:\"30px\"}}>내가 만든 맛집 리스트</h1>\n          <Grid>\n            {Object.values(pagedLists).map( (list) =>\n              <List key={list.folderNum}\n                content={list.title}\n                url={list.url} />\n            )}\n          </Grid>\n        </Container>\n        <Pagination\n          itemsCount={count}\n          currentPage={this.state.currentPage}\n          onPageChange={handlePageChange}\n        />\n      </Contents>\n    );\n  }\n}\n\nexport default MyListPage;\n"]},"metadata":{},"sourceType":"module"}