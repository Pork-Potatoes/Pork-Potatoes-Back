{"ast":null,"code":"import _regeneratorRuntime from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React from\"react\";import axios from\"axios\";import https from\"https\";import styled from\"styled-components\";import Review from\"../components/Review\";import ImgSlide from\"../components/ImgSlide\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Banner=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100vw;\\n  height: 55vh;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  margin-top: 120px;\\n\"])));var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n\"])));var Wrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: start;\\n  justify-content: center;\\n\"])));var Grid=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr;\\n\"])));var agent=new https.Agent({rejectUnauthorized:false});var MainPage=/*#__PURE__*/function(_React$Component){_inherits(MainPage,_React$Component);var _super=_createSuper(MainPage);function MainPage(props){var _this;_classCallCheck(this,MainPage);_this=_super.call(this,props);_this.getHotReviews=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,reviews;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://www.matzipmajor.com/api/reviews/thisWeek\",{httpsAgent:agent});case 3:_yield$axios$get=_context.sent;reviews=_yield$axios$get.data;_this.setState({hotReviews:reviews});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"getHotReviews error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));_this.getReviews=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$get2,reviews;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://www.matzipmajor.com/api/reviews/recent\",{httpsAgent:agent});case 3:_yield$axios$get2=_context2.sent;reviews=_yield$axios$get2.data;_this.setState({reviews:reviews});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(\"getReviews error\");case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));_this.state={hotReviews:[],reviews:[]};return _this;}_createClass(MainPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.getHotReviews();this.getReviews();}},{key:\"render\",value:function render(){var _this$state=this.state,reviews=_this$state.reviews,hotReviews=_this$state.hotReviews;return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Banner,{children:/*#__PURE__*/_jsx(ImgSlide,{})}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:\"15px\",marginTop:\"30px\"},children:\"\\uC624\\uB298\\uC758 HOT \\uB9AC\\uBDF0\"}),/*#__PURE__*/_jsx(Grid,{children:Object.values(hotReviews).map(function(review){return/*#__PURE__*/_jsx(Review,{reviewNum:review.reviewNum,image:review.filePath,content:review.content,restaurantName:review.restaurant.restaurantName,menuName:review.menuName,tagFood:review.tagFood,tagMood:review.tagMood,score:review.score});})})]}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:\"15px\",marginTop:\"30px\"},children:\"\\uCD5C\\uC2E0 \\uB9AC\\uBDF0 \\uBAA8\\uC544\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(Grid,{children:Object.values(reviews).map(function(review){return/*#__PURE__*/_jsx(Review,{reviewNum:review.reviewNum,image:review.filePath,content:review.content,restaurantName:review.restaurant.restaurantName,menuName:review.menuName,tagFood:review.tagFood,tagMood:review.tagMood,score:review.score});})})]})]});}}]);return MainPage;}(React.Component);export default MainPage;","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/pages/MainPage.js"],"names":["React","axios","https","styled","Review","ImgSlide","Banner","div","Container","Wrapper","Grid","agent","Agent","rejectUnauthorized","MainPage","props","getHotReviews","get","httpsAgent","reviews","data","setState","hotReviews","console","log","getReviews","state","margin","marginTop","Object","values","map","review","reviewNum","filePath","content","restaurant","restaurantName","menuName","tagFood","tagMood","score","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport https from \"https\";\nimport styled from \"styled-components\";\nimport Review from \"../components/Review\";\nimport ImgSlide from \"../components/ImgSlide\";\n\nconst Banner = styled.div`\n  width: 100vw;\n  height: 55vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 120px;\n`\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: center;\n`\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n`\n\nconst agent = new https.Agent({\n  rejectUnauthorized: false\n});\n\nclass MainPage extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      hotReviews: [],\n      reviews: []\n    }\n  }\n  getHotReviews = async () => {\n    try{\n      const {data: reviews} = await axios.get(\"https://www.matzipmajor.com/api/reviews/thisWeek\", {httpsAgent: agent});\n      this.setState({ hotReviews: reviews });\n    }\n    catch(e){\n      console.log(\"getHotReviews error\");\n    }\n  }\n  getReviews = async () => {\n    try{\n      const {data: reviews} = await axios.get(\"https://www.matzipmajor.com/api/reviews/recent\", {httpsAgent: agent});\n      this.setState({ reviews });\n    }\n    catch(e){\n      console.log(\"getReviews error\");\n    }\n  }\n\n  componentDidMount() {\n    this.getHotReviews();\n    this.getReviews();\n  }\n  render() {\n    const { reviews, hotReviews } = this.state;\n      return(\n      <Container>\n        <Banner>\n          <ImgSlide />\n        </Banner>\n        <Wrapper>\n          <h1 style={{margin:\"15px\", marginTop:\"30px\"}}>오늘의 HOT 리뷰</h1>\n          <Grid>\n            {Object.values(hotReviews).map( (review) =>\n              <Review reviewNum={review.reviewNum}\n                image={review.filePath}\n                content={review.content}\n                restaurantName={review.restaurant.restaurantName}\n                menuName={review.menuName}\n                tagFood={review.tagFood}\n                tagMood={review.tagMood}\n                score={review.score}\n                />\n            )}\n          </Grid>\n        </Wrapper>\n        <Wrapper>\n          <h1 style={{margin:\"15px\", marginTop:\"30px\"}}>최신 리뷰 모아보기</h1>\n          <Grid>\n            {Object.values(reviews).map( (review) =>\n              <Review reviewNum={review.reviewNum}\n                image={review.filePath}\n                content={review.content}\n                restaurantName={review.restaurant.restaurantName}\n                menuName={review.menuName}\n                tagFood={review.tagFood}\n                tagMood={review.tagMood}\n                score={review.score}\n                />\n            )}\n          </Grid>\n        </Wrapper>\n      </Container>\n    );\n  }\n}\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}