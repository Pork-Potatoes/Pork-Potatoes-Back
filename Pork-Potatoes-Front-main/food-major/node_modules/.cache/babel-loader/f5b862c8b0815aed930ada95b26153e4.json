{"ast":null,"code":"import _regeneratorRuntime from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import{useState,useEffect}from'react';import axios from'axios';import styled from\"styled-components\";import Review from\"../components/Review\";import RestuarantInfo from'../components/RestuarantInfo';import image from\"../assets/reviewImg.png\";import React from\"react\";import{useLocation}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contents=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display:flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n\"])));var Grid=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr;\\n\"])));var NewReview=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  height: 560px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  margin-left: 150px;\\n\"])));var DetailPage=function DetailPage(){var location=useLocation();var _location$state=location.state,restaurantNum=_location$state.restaurantNum,restaurantName=_location$state.restaurantName,address=_location$state.address,phoneNum=_location$state.phoneNum,businessHour=_location$state.businessHour,snsAccount=_location$state.snsAccount,avgScore=_location$state.avgScore;var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://www.matzipmajor.com/api/restaurants/\".concat(restaurantNum,\"/reviews?sort=-created-date\"));case 3:response=_context.sent;setData(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"error\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(RestuarantInfo,{restaurantName:restaurantName,address:address,phoneNum:phoneNum,businessHour:businessHour,snsAccount:snsAccount,avgScore:avgScore,scrap:\"true\"}),/*#__PURE__*/_jsxs(NewReview,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:0,marginLeft:15},children:\"\\uCD5C\\uC2E0 \\uB9AC\\uBDF0\"}),/*#__PURE__*/_jsx(Contents,{children:/*#__PURE__*/_jsx(Grid,{children:data===null||data===void 0?void 0:data.map(function(review){return/*#__PURE__*/_jsx(Review,{reviewNum:review.reviewNum,image:review.filePath,content:review.content,restaurantName:review.restaurant.restaurantName,menuName:review.menuName,tagFood:review.tagFood,tagMood:review.tagMood,score:review.score,createdDate:review.createdDate,likedCnt:review.likedCnt});})})})]})]});};export default DetailPage;","map":{"version":3,"sources":["/Users/minjukim/Documents/GitHub/Pork-Potatoes-Back/Pork-Potatoes-Front-main/food-major/src/pages/DetailPage.js"],"names":["useState","useEffect","axios","styled","Review","RestuarantInfo","image","React","useLocation","Contents","div","Grid","NewReview","DetailPage","location","state","restaurantNum","restaurantName","address","phoneNum","businessHour","snsAccount","avgScore","data","setData","get","response","console","log","marginBottom","marginLeft","map","review","reviewNum","filePath","content","restaurant","menuName","tagFood","tagMood","score","createdDate","likedCnt"],"mappings":"23BAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,cAA1B,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGN,MAAM,CAACO,GAAV,gIAAd,CAKA,GAAMC,CAAAA,IAAI,CAAGR,MAAM,CAACO,GAAV,8HAAV,CAKA,GAAME,CAAAA,SAAS,CAAGT,MAAM,CAACO,GAAV,2LAAf,CASA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,oBAAwFM,QAAQ,CAACC,KAAjG,CAAOC,aAAP,iBAAOA,aAAP,CAAsBC,cAAtB,iBAAsBA,cAAtB,CAAqCC,OAArC,iBAAqCA,OAArC,CAA6CC,QAA7C,iBAA6CA,QAA7C,CAAsDC,YAAtD,iBAAsDA,YAAtD,CAAmEC,UAAnE,iBAAmEA,UAAnE,CAA8EC,QAA9E,iBAA8EA,QAA9E,CAEA,cAAuBtB,QAAQ,EAA/B,wCAAOuB,IAAP,eAAYC,OAAZ,eAEEvB,SAAS,sEAAC,sLAEqBC,CAAAA,KAAK,CAACuB,GAAN,uDAAyDT,aAAzD,gCAFrB,QAEIU,QAFJ,eAGFF,OAAO,CAACE,QAAQ,CAACH,IAAV,CAAP,CAHE,+EAKFI,OAAO,CAACC,GAAR,CAAY,OAAZ,EALE,oEAAD,GAOP,EAPO,CAAT,CASF,mBACE,oCACE,KAAC,cAAD,EACE,cAAc,CAAEX,cADlB,CAEE,OAAO,CAAEC,OAFX,CAGE,QAAQ,CAAEC,QAHZ,CAIE,YAAY,CAAEC,YAJhB,CAKE,UAAU,CAAEC,UALd,CAME,QAAQ,CAAEC,QANZ,CAOE,KAAK,CAAC,MAPR,EADF,cASE,MAAC,SAAD,yBACE,WAAI,KAAK,CAAE,CAACO,YAAY,CAAC,CAAd,CAAiBC,UAAU,CAAC,EAA5B,CAAX,uCADF,cAEM,KAAC,QAAD,wBACE,KAAC,IAAD,WACGP,IADH,SACGA,IADH,iBACGA,IAAI,CAAEQ,GAAN,CAAU,SAACC,MAAD,qBACT,KAAC,MAAD,EAAQ,SAAS,CAAEA,MAAM,CAACC,SAA1B,CACE,KAAK,CAAED,MAAM,CAACE,QADhB,CAEE,OAAO,CAAEF,MAAM,CAACG,OAFlB,CAGE,cAAc,CAAEH,MAAM,CAACI,UAAP,CAAkBnB,cAHpC,CAIE,QAAQ,CAAEe,MAAM,CAACK,QAJnB,CAKE,OAAO,CAAEL,MAAM,CAACM,OALlB,CAME,OAAO,CAAEN,MAAM,CAACO,OANlB,CAOE,KAAK,CAAEP,MAAM,CAACQ,KAPhB,CAQE,WAAW,CAAER,MAAM,CAACS,WARtB,CASE,QAAQ,CAAET,MAAM,CAACU,QATnB,EADS,EAAV,CADH,EADF,EAFN,GATF,GADF,CAgCD,CA/CD,CAiDA,cAAe7B,CAAAA,UAAf","sourcesContent":["import {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport styled from \"styled-components\";\nimport Review from \"../components/Review\";\nimport RestuarantInfo from '../components/RestuarantInfo';\nimport image from \"../assets/reviewImg.png\";\nimport React from \"react\";\nimport {useLocation} from \"react-router\";\n\nconst Contents = styled.div`\n  display:flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n`\n\nconst NewReview = styled.div`\n  height: 560px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  margin-left: 150px;\n`\n\n\nconst DetailPage = () => {\n  const location = useLocation();\n  const {restaurantNum, restaurantName,address,phoneNum,businessHour,snsAccount,avgScore}=location.state;\n\n  const [data,setData] = useState();\n\n    useEffect(async() => {\n        try{\n            const response = await axios.get(`https://www.matzipmajor.com/api/restaurants/${restaurantNum}/reviews?sort=-created-date`);\n            setData(response.data);\n        } catch (e) {\n            console.log(\"error\");\n        }\n    },[]);\n\n  return (\n    <div>\n      <RestuarantInfo \n        restaurantName={restaurantName}\n        address={address}\n        phoneNum={phoneNum}\n        businessHour={businessHour}\n        snsAccount={snsAccount} \n        avgScore={avgScore}\n        scrap=\"true\"/>\n      <NewReview>\n        <h3 style={{marginBottom:0, marginLeft:15}}>최신 리뷰</h3>\n            <Contents>\n              <Grid>\n                {data?.map((review) =>\n                  <Review reviewNum={review.reviewNum}\n                    image={review.filePath}\n                    content={review.content}\n                    restaurantName={review.restaurant.restaurantName}\n                    menuName={review.menuName}\n                    tagFood={review.tagFood}\n                    tagMood={review.tagMood}\n                    score={review.score}\n                    createdDate={review.createdDate}\n                    likedCnt={review.likedCnt}\n                    />\n                )}\n              </Grid>\n            </Contents>\n      </NewReview>\n    </div>\n  );\n};\n\nexport default DetailPage;"]},"metadata":{},"sourceType":"module"}